{
  "backend": {
    "url": "http://localhost:8080",
    "username": "admin",
    "password": "password"
  },
  "checks": {
    "metrics-busy-workers": {
      "normal": [500, 600],
      "high": [1500, 2000],
      "metric-name": "httpd_busy_workers",
      "subscriptions": ["webserver"]
    },
    "metrics-cpu": {
      "normal": [10, 25],
      "high": [90, 100],
      "metric-name": "system_cpu_used{cpu=total}",
      "subscriptions": ["unix"]
    },
    "metrics-memory": {
      "normal": [40, 45],
      "high": [90, 100],
      "metric-name": "system_memory_used{type=swap}",
      "subscriptions": ["unix"]
    },
    "metrics-http-error-rate": {
      "normal": [1, 10],
      "high": [1000, 1500],
      "metric-name": "httpd_error_rate{type=404}",
      "subscriptions": ["webserver"]
    },
    "metrics-db-response-time": {
      "normal": [1, 5],
      "high": [25, 1000],
      "metric-name": "db_response_time{}",
      "subscriptions": ["appserver"]
    },
    "metrics-application-error-rate": {
      "normal": [1, 3],
      "high": [500, 700],
      "metric-name": "app_error_rate{}",
      "subscriptions": ["appserver"]
    },
    "metrics-sales-rate": {
      "normal": [30000, 32000],
      "high": [0, 1000],
      "metric-name": "sales{}",
      "subscriptions": ["proxyserver"]
    },
    "check-service-status": {
      "good-status": "ServiceStatus: OK httpd is up || httpd\nServiceStatus: OK sshd is up || sshd",
      "bad-status": "ServiceStatus: CRIT httpd is down || httpd\nServiceStatus: OK sshd is up || sshd",
      "subscriptions": ["unix"]
    }
  },
  "agents": [
    {
      "name": "webserver-1",
      "os": "linux",
      "platform": "redhat 7.9 / rhel",
      "architecture": "amd64",
      "subscriptions": ["webserver", "unix", "service-status"],
      "checks": [
        "metrics-busy-workers",
        "metrics-cpu",
        "metrics-memory",
        "check-service-status",
        "metrics-http-error-rate"
      ],
      "labels": {
        "service_type": "web-server",
        "zone": "a"
      }
    },
    {
      "name": "webserver-2",
      "os": "linux",
      "platform": "redhat 7.9 / rhel",
      "architecture": "amd64",
      "subscriptions": ["webserver", "unix", "service-status"],
      "checks": [
        "metrics-busy-workers",
        "metrics-cpu",
        "metrics-memory",
        "check-service-status",
        "metrics-http-error-rate"
      ],
      "labels": {
        "service_type": "web-server",
        "zone": "b"
      }
    },
    {
      "name": "webserver-3",
      "os": "linux",
      "platform": "redhat 7.9 / rhel",
      "architecture": "amd64",
      "subscriptions": ["webserver", "unix", "service-status"],
      "checks": [
        "metrics-busy-workers",
        "metrics-cpu",
        "metrics-memory",
        "check-service-status",
        "metrics-http-error-rate"
      ],
      "labels": {
        "service_type": "web-server",
        "zone": "c"
      }
    },
    {
      "name": "appserver-1",
      "os": "linux",
      "platform": "redhat 7.9 / rhel",
      "architecture": "amd64",
      "subscriptions": ["appserver", "unix", "service-status"],
      "checks": [
        "metrics-db-response-time",
        "metrics-cpu",
        "metrics-memory",
        "check-service-status",
        "metrics-application-error-rate"
      ],
      "labels": {
        "service_type": "application-server",
        "zone": "a"
      }
    },
    {
      "name": "appserver-2",
      "os": "linux",
      "platform": "redhat 7.9 / rhel",
      "architecture": "amd64",
      "subscriptions": ["appserver", "unix", "service-status"],
      "checks": [
        "metrics-db-response-time",
        "metrics-cpu",
        "metrics-memory",
        "check-service-status",
        "metrics-application-error-rate"
      ],
      "labels": {
        "service_type": "application-server",
        "zone": "b"
      }
    },
    {
      "name": "appserver-3",
      "os": "linux",
      "platform": "redhat 7.9 / rhel",
      "architecture": "amd64",
      "subscriptions": ["appserver", "unix", "service-status"],
      "checks": [
        "metrics-db-response-time",
        "metrics-cpu",
        "metrics-memory",
        "check-service-status",
        "metrics-application-error-rate"
      ],
      "labels": {
        "service_type": "application-server",
        "zone": "c"
      }
    },
    {
      "name": "proxy-1",
      "os": "linux",
      "platform": "redhat 7.9 / rhel",
      "architecture": "amd64",
      "subscriptions": ["proxyserver", "unix"],
      "checks": ["metrics-sales-rate"],
      "labels": {
        "service_type": "proxy-collector",
        "zone": "a"
      }
    }
  ]
}
